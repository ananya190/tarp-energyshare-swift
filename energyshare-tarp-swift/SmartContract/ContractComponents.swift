//
//  ContractComponents.swift
//  energyshare-tarp-swift
//
//  Created by Ananya George on 11/16/23.
//

import Foundation

struct ContractComponents {
    static let contractAddress = "0xaEAee240694341437c8a210cae0C395734060580"
    static let byteCodeString = "0x608060405260016000556001805534801561001957600080fd5b506123c9806100296000396000f3fe6080604052600436106100555760003560e01c80630921259e1461005a57806349bf126f146100855780638f033028146100c2578063a016117d146100eb578063c1ba186914610114578063f5e83e1714610151575b600080fd5b34801561006657600080fd5b5061006f61016d565b60405161007c919061189f565b60405180910390f35b34801561009157600080fd5b506100ac60048036038101906100a79190611904565b610353565b6040516100b9919061189f565b60405180910390f35b3480156100ce57600080fd5b506100e960048036038101906100e4919061195d565b610576565b005b3480156100f757600080fd5b50610112600480360381019061010d919061195d565b61085a565b005b34801561012057600080fd5b5061013b60048036038101906101369190611904565b610bad565b6040516101489190611ac7565b60405180910390f35b61016b60048036038101906101669190611ae9565b610d52565b005b6060600060048054905067ffffffffffffffff8111156101905761018f611b16565b5b6040519080825280602002602001820160405280156101c957816020015b6101b66114fd565b8152602001906001900390816101ae5790505b50905060005b60048054905081101561034b576000600482815481106101f2576101f1611b45565b5b906000526020600020015490506002600082815260200190815260200160002060405180610100016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201548152602001600382015481526020016004820154815260200160058201548152602001600682018054806020026020016040519081016040528092919081815260200182805480156102f557602002820191906000526020600020905b8154815260200190600101908083116102e1575b505050505081526020016007820160009054906101000a900460ff16151515158152505083838151811061032c5761032b611b45565b5b602002602001018190525050808061034390611ba3565b9150506101cf565b508091505090565b60606000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090506000818054905067ffffffffffffffff8111156103b8576103b7611b16565b5b6040519080825280602002602001820160405280156103f157816020015b6103de6114fd565b8152602001906001900390816103d65790505b50905060005b828054905081101561056b576002600084838154811061041a57610419611b45565b5b9060005260206000200154815260200190815260200160002060405180610100016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820154815260200160048201548152602001600582015481526020016006820180548060200260200160405190810160405280929190818152602001828054801561051657602002820191906000526020600020905b815481526020019060010190808311610502575b505050505081526020016007820160009054906101000a900460ff16151515158152505082828151811061054d5761054c611b45565b5b6020026020010181905250808061056390611ba3565b9150506103f7565b508092505050919050565b600083116105b9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105b090611c6e565b60405180910390fd5b828210156105fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f390611d26565b60405180910390fd5b6000811161063f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161063690611db8565b60405180910390fd5b60405180610100016040528060005481526020013373ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200182815260200160008152602001600067ffffffffffffffff8111156106a3576106a2611b16565b5b6040519080825280602002602001820160405280156106d15781602001602082028036833780820191505090505b5081526020016000151581525060026000805481526020019081526020016000206000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c082015181600601908051906020019061078792919061155a565b5060e08201518160070160006101000a81548160ff02191690831515021790555090505060046000549080600181540180825580915050600190039060005260206000200160009091909190915055600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600054908060018154018082558091505060019003906000526020600020016000909190919091505560008081548092919061085090611ba3565b9190505550505050565b8260008111801561086c575060005481105b6108ab576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108a290611e24565b60405180910390fd5b60006002600086815260200190815260200160002090508060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1603610954576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094b90611e90565b60405180910390fd5b60008411610997576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161098e90611f22565b60405180910390fd5b600083116109da576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109d190611f8e565b60405180910390fd5b6000600154905060006040518060a001604052808381526020013373ffffffffffffffffffffffffffffffffffffffff16815260200188815260200187815260200186815250905080600360008481526020019081526020016000206000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301556080820151816004015590505082600601829080600181540180825580915050600190039060005260206000200160009091909190915055600083600501541480610b2f5750600360008460050154815260200190815260200160002060030154600360008560050154815260200190815260200160002060040154610b219190611fae565b8686610b2d9190611fae565b105b15610b3e578183600501819055505b600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002082908060018154018082558091505060019003906000526020600020016000909190919091505550505050505050565b60606000600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090506000818054905067ffffffffffffffff811115610c1257610c11611b16565b5b604051908082528060200260200182016040528015610c4b57816020015b610c386115a7565b815260200190600190039081610c305790505b50905060005b8280549050811015610d475760036000848381548110610c7457610c73611b45565b5b906000526020600020015481526020019081526020016000206040518060a0016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815260200160038201548152602001600482015481525050828281518110610d2957610d28611b45565b5b60200260200101819052508080610d3f90611ba3565b915050610c51565b508092505050919050565b80600081118015610d64575060005481105b610da3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d9a90611e24565b60405180910390fd5b60006002600084815260200190815260200160002090508060070160009054906101000a900460ff1615610e0c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e039061203c565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff168160010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610e9e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e95906120ce565b60405180910390fd5b60008160050154905060008111610eea576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ee19061213a565b60405180910390fd5b60006003600083815260200190815260200160002090508260020154816003015410158015610f2157508260030154816003015411155b610f60576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f57906121a6565b60405180910390fd5b600081600401548260030154610f769190611fae565b90508160010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015610ff85760018460070160006101000a81548160ff021916908315150217905550611033565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161102a90612212565b60405180910390fd5b61103c83611044565b505050505050565b600060036000838152602001908152602001600020905060006110c9600660008460010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208461147e565b9050600660008360010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805490508110611173576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161116a9061227e565b60405180910390fd5b60006001600660008560010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805490506111e8919061229e565b90506000600660008560010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020828154811061126157611260611b45565b5b9060005260206000200154905080600660008660010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002084815481106112e4576112e3611b45565b5b9060005260206000200181905550600660008560010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480611365576113646122d2565b5b60019003818190600052602060002001600090559055600084600201549050600060026000838152602001908152602001600020600601905060006113aa828961147e565b9050818054905081106113f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113e990612373565b60405180910390fd5b600060018380549050611405919061229e565b9050600083828154811061141c5761141b611b45565b5b906000526020600020015490508084848154811061143d5761143c611b45565b5b90600052602060002001819055508380548061145c5761145b6122d2565b5b6001900381819060005260206000200160009055905550505050505050505050565b600080600090505b83805490508110156114d257828482815481106114a6576114a5611b45565b5b9060005260206000200154036114bf57809150506114f7565b80806114ca90611ba3565b915050611486565b507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff90505b92915050565b60405180610100016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081526020016000815260200160008152602001606081526020016000151581525090565b828054828255906000526020600020908101928215611596579160200282015b8281111561159557825182559160200191906001019061157a565b5b5090506115a391906115ec565b5090565b6040518060a0016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600081525090565b5b808211156116055760008160009055506001016115ed565b5090565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000819050919050565b61164881611635565b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006116798261164e565b9050919050565b6116898161166e565b82525050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60006116c7838361163f565b60208301905092915050565b6000602082019050919050565b60006116eb8261168f565b6116f5818561169a565b9350611700836116ab565b8060005b8381101561173157815161171888826116bb565b9750611723836116d3565b925050600181019050611704565b5085935050505092915050565b60008115159050919050565b6117538161173e565b82525050565b600061010083016000830151611772600086018261163f565b5060208301516117856020860182611680565b506040830151611798604086018261163f565b5060608301516117ab606086018261163f565b5060808301516117be608086018261163f565b5060a08301516117d160a086018261163f565b5060c083015184820360c08601526117e982826116e0565b91505060e08301516117fe60e086018261174a565b508091505092915050565b60006118158383611759565b905092915050565b6000602082019050919050565b600061183582611609565b61183f8185611614565b93508360208202850161185185611625565b8060005b8581101561188d578484038952815161186e8582611809565b94506118798361181d565b925060208a01995050600181019050611855565b50829750879550505050505092915050565b600060208201905081810360008301526118b9818461182a565b905092915050565b600080fd5b60006118d18261164e565b9050919050565b6118e1816118c6565b81146118ec57600080fd5b50565b6000813590506118fe816118d8565b92915050565b60006020828403121561191a576119196118c1565b5b6000611928848285016118ef565b91505092915050565b61193a81611635565b811461194557600080fd5b50565b60008135905061195781611931565b92915050565b600080600060608486031215611976576119756118c1565b5b600061198486828701611948565b935050602061199586828701611948565b92505060406119a686828701611948565b9150509250925092565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60a0820160008201516119f2600085018261163f565b506020820151611a056020850182611680565b506040820151611a18604085018261163f565b506060820151611a2b606085018261163f565b506080820151611a3e608085018261163f565b50505050565b6000611a5083836119dc565b60a08301905092915050565b6000602082019050919050565b6000611a74826119b0565b611a7e81856119bb565b9350611a89836119cc565b8060005b83811015611aba578151611aa18882611a44565b9750611aac83611a5c565b925050600181019050611a8d565b5085935050505092915050565b60006020820190508181036000830152611ae18184611a69565b905092915050565b600060208284031215611aff57611afe6118c1565b5b6000611b0d84828501611948565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611bae82611635565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611be057611bdf611b74565b5b600182019050919050565b600082825260208201905092915050565b7f4d696e696d756d20656e6572677920756e697473206d7573742062652067726560008201527f61746572207468616e2030000000000000000000000000000000000000000000602082015250565b6000611c58602b83611beb565b9150611c6382611bfc565b604082019050919050565b60006020820190508181036000830152611c8781611c4b565b9050919050565b7f4d6178696d756d20656e6572677920756e697473206d7573742062652067726560008201527f61746572207468616e206f7220657175616c20746f206d696e696d756d20656e60208201527f6572677920756e69747300000000000000000000000000000000000000000000604082015250565b6000611d10604a83611beb565b9150611d1b82611c8e565b606082019050919050565b60006020820190508181036000830152611d3f81611d03565b9050919050565b7f4d696e696d756d2070726963652070657220756e6974206d757374206265206760008201527f726561746572207468616e203000000000000000000000000000000000000000602082015250565b6000611da2602d83611beb565b9150611dad82611d46565b604082019050919050565b60006020820190508181036000830152611dd181611d95565b9050919050565b7f53656c6c206f6666657220646f6573206e6f7420657869737400000000000000600082015250565b6000611e0e601983611beb565b9150611e1982611dd8565b602082019050919050565b60006020820190508181036000830152611e3d81611e01565b9050919050565b7f42757965722063616e6e6f74206265207468652073656c6c6572000000000000600082015250565b6000611e7a601a83611beb565b9150611e8582611e44565b602082019050919050565b60006020820190508181036000830152611ea981611e6d565b9050919050565b7f4e756d626572206f6620656e6572677920756e697473206d757374206265206760008201527f726561746572207468616e203000000000000000000000000000000000000000602082015250565b6000611f0c602d83611beb565b9150611f1782611eb0565b604082019050919050565b60006020820190508181036000830152611f3b81611eff565b9050919050565b7f5072696365206d7573742062652067726561746572207468616e203000000000600082015250565b6000611f78601c83611beb565b9150611f8382611f42565b602082019050919050565b60006020820190508181036000830152611fa781611f6b565b9050919050565b6000611fb982611635565b9150611fc483611635565b9250828202611fd281611635565b91508282048414831517611fe957611fe8611b74565b5b5092915050565b7f53656c6c206f666665722068617320616c7265616479206265656e20736f6c64600082015250565b6000612026602083611beb565b915061203182611ff0565b602082019050919050565b6000602082019050818103600083015261205581612019565b9050919050565b7f4f6e6c79207468652073656c6c65722063616e20636f6d706c6574652074686560008201527f207472616e73616374696f6e0000000000000000000000000000000000000000602082015250565b60006120b8602c83611beb565b91506120c38261205c565b604082019050919050565b600060208201905081810360008301526120e7816120ab565b9050919050565b7f4e6f2076616c696420627579206f6666657220666f756e640000000000000000600082015250565b6000612124601883611beb565b915061212f826120ee565b602082019050919050565b6000602082019050818103600083015261215381612117565b9050919050565b7f496e76616c6964206e756d626572206f6620656e6572677920756e6974730000600082015250565b6000612190601e83611beb565b915061219b8261215a565b602082019050919050565b600060208201905081810360008301526121bf81612183565b9050919050565b7f5061796d656e74207472616e73666572206661696c6564000000000000000000600082015250565b60006121fc601783611beb565b9150612207826121c6565b602082019050919050565b6000602082019050818103600083015261222b816121ef565b9050919050565b7f427579206f66666572206e6f7420666f756e6420696e20746865206c69737400600082015250565b6000612268601f83611beb565b915061227382612232565b602082019050919050565b600060208201905081810360008301526122978161225b565b9050919050565b60006122a982611635565b91506122b483611635565b92508282039050818111156122cc576122cb611b74565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fd5b7f427579206f66666572206e6f7420666f756e6420696e207468652073656c6c2060008201527f6f666665722773206c6973740000000000000000000000000000000000000000602082015250565b600061235d602c83611beb565b915061236882612301565b604082019050919050565b6000602082019050818103600083015261238c81612350565b905091905056fea264697066735822122007c9d2291e49cffcfe873c7f7b6c469ab07a6ec919d2b53553bd2e771429c18164736f6c63430008130033"
    
    static let contractABI =
    """
    [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_sellOfferId",
          "type": "uint256"
        }
      ],
      "name": "completeTransaction",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_sellOfferId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_numberOfEnergyUnits",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_price",
          "type": "uint256"
        }
      ],
      "name": "createBuyOffer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_minEnergyUnits",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_maxEnergyUnits",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_minPrice",
          "type": "uint256"
        }
      ],
      "name": "createSellOffer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllCurrentSellOffers",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address payable",
              "name": "seller",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "minEnergyUnits",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxEnergyUnits",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "bestBuyOfferId",
              "type": "uint256"
            },
            {
              "internalType": "uint256[]",
              "name": "buyOfferIds",
              "type": "uint256[]"
            },
            {
              "internalType": "bool",
              "name": "sold",
              "type": "bool"
            }
          ],
          "internalType": "struct EnergySharing.SellOffer[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getUserBuyOffers",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address payable",
              "name": "buyer",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "sellOfferId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "numberOfEnergyUnits",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            }
          ],
          "internalType": "struct EnergySharing.BuyOffer[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getUserSellOffers",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address payable",
              "name": "seller",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "minEnergyUnits",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxEnergyUnits",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "bestBuyOfferId",
              "type": "uint256"
            },
            {
              "internalType": "uint256[]",
              "name": "buyOfferIds",
              "type": "uint256[]"
            },
            {
              "internalType": "bool",
              "name": "sold",
              "type": "bool"
            }
          ],
          "internalType": "struct EnergySharing.SellOffer[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
    ]
    """
}
